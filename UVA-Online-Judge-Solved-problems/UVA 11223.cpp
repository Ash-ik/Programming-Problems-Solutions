#include<cstdio>
#include<cstring>
#include<string>
#include<map>
#include<iostream>
using namespace std;
map<string,string>m;
char a[100000];
string temp;
int main()
{
    int t,i=1,p,x;
    m[".-"] = 'A'; m["-..."] = 'B'; m["-.-."] = 'C'; m["-.."] = 'D';
    m["."] = 'E'; m["..-."] = 'F'; m["--."] = 'G'; m["...."] = 'H';
    m[".."] = 'I'; m[".---"] = 'J'; m["-.-"] = 'K'; m[".-.."] = 'L';
    m["--"] = 'M'; m["-."] = 'N'; m["---"] = 'O'; m[".--."] = 'P';
    m["--.-"] = 'Q'; m[".-."] = 'R'; m["..."] = 'S'; m["-"] = 'T';
    m["..-"] = 'U'; m["...-"] = 'V'; m[".--"] = 'W'; m["-..-"] = 'X';
    m["-.--"] = 'Y'; m["--.."] = 'Z';
    m["-----"] = '0'; m[".----"] = '1'; m["..---"] = '2';
    m["...--"] = '3'; m["....-"] = '4'; m["....."] = '5';
    m["-...."] = '6'; m["--..."] = '7'; m["---.."] = '8'; m["----."] = '9';
    m[".-.-.-"] = '.'; m["--..--"] = ','; m["..--.."] = '?';
    m[".----."] = '\''; m["-.-.--"] = '!'; m["-..-."] = '/';
    m["-.--."] = '('; m["-.--.-"] = ')'; m[".-..."] = '&';
    m["---..."] = ':'; m["-.-.-."] = ';'; m["-...-"] = '=';
    m[".-.-."] = '+'; m["-....-"] = '-'; m["..--.-"] = '_';
    m[".-..-."] = '\"'; m[".--.-."] = '@';
    scanf("%d",&t);
    getchar();
while(i<=t)
{
    temp="";
    gets(a);
    x=strlen(a);
    printf("Message #%d\n",i);
    for(p=0;p<=x;p++)
    {
        if(p==x)
            cout<<m[temp];
        if(a[p]==' ')
            {
                if(a[p]==' ')
                {
                    cout<<m[temp];
                    temp="";
                }
                if(a[p+1]==' ')
                    printf(" ");
            }
        else
        {
            temp+=a[p];
        }
    }
    printf("\n");
    if(i<t)
        printf("\n");
        i++;
}
return 0;
}
